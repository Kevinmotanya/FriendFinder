<!DOCTYPE html>
<html>

<head>
	<title>Fri3ndFind3r B3ta</title>

	<!-- Link to the jQuery Lib -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

	<!-- Including Font Awesome Icons -->
	<script src="https://use.fontawesome.com/b38c8ed4c7.js"></script>

	<!-- Link to reset/css stylesheet -->
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/style.css">
	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/css?family=ZCOOL+KuaiLe" rel="stylesheet">

	<!-- Compiled and minified Materialize CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">

	<!-- Compiled and minified Materialize JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>


</head>

<body>
	<nav>
		<div class="navbar navbar-light" style="background-color:teal">
			<i class="fa fa-meetup" aria-hidden="true" id=logocon></i>
			<a href="/" class="brand-logo" id="logo">Fri3nd Find3r</a>
			<ul class="right hide-on-med-and-down" id="head-nav-links">
				<li><a href="./survey">Survey</a></li>
				<li><a href="/api/friends">API Friends List</a></li>
				<li><a href="https://github.com/Kevinmotanya/FriendFinder">GitHub R3po</a></li>
			</ul>
		</div>
	</nav>
	<div class="col s12 m7">
		<h2 class="header">Easy to Get Matched</h2>
		<div class="card horizontal">
			<div class="card-image">
				<img src="assets/images.PNG">
			</div>
			<div class="card-stacked">
				<div class="card-content">
					<p>You are very close to hitting your match</p>
				</div>
				<div class="card-action">
					<a href="https://github.com/Kevinmotanya/FriendFinder">Github Repo</a>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<!-- card for survey questions-->
			<div class="card panel col s12 z-depth-5 ">				
					<h1>Survey Questions</h1>
					<div class='card-panel left-align white'>
					<h3><strong>About You</strong></h3>

				<input id="name" type="text" class="validate" required>
                <label class='active' for="name">Name (required)</label>
                <input id="photo" type="text" class="validate" required>
                <label class='active' for="name">Link to Photo Image (required)</label>
					<!-- Survey Questions -->
					<div class="input-field col s12">
						<h3>I</h3>
						<h5>You learned about financial planning from your parent(s).</h5>
						<select id="question1">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>II</h3>
						<h5>You believe in a solid marriage and family values.</h5>
						<select id="question2">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>III</h3>
						<h5>You get along with people's relatives and their friends.</h5>
						<select id="question3">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>IV</h3>
						<h5>You are not scared of heights.</h5>
						<select id="question4">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>V</h3>
						<h5>You don't mind about insensitive jokes as long as they are funny.</h5>
						<select id="question5">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>VI</h3>
						<h5>Both the man and the woman should be breadwinners.</h5>
						<select id="question6">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>VII</h3>
						<h5>Are you photogenic?</h5>
						<select id="question7">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>VIII</h3>
						<h5>You were a bookworm in high school</h5>
						<select id="question8">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>IX</h3>
						<h5>Your ego is high that you disregard other people's opinion</h5>
						<select id="question9">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<div class="input-field col s12">
						<h3>X</h3>
						<h5>You are not an introvert and people make you more happy.</h5>
						<select id="question10">
							<option value="" disabled selected>Pick a response level</option>
							<option value="1">1 (Totally Disagree)</option>
							<option value="2">2 (Disagree)</option>
							<option value="3">3 (Fairly yes)</option>
							<option value="4">4 (Agree)</option>
							<option value="5">5 (Totally agree)</option>
						</select>
					</div>

					<!-- Survey Submit Button -->
					<div>
						<button class="btn waves-effect waves-light" type="submit" name="action" id="submitButton">
							<i class="material-icons right">Match Me</i>
						</button>
					</div>
				</div>
				 <!-- Materialize Modal Structure -->
				 <div id="modal1" class="modal">
						<div class="modal-content">
						  <h4>Meet Your New BFF</h4>
						  <h5 id="matchName"></h5>
						  <img id="matchPic" src="" alt="No Image" width = 250px>
						</div>
					  <div class="modal-footer">
						<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Done</a>
					  </div>
					</div>
			  
				  </div>
			  
			  <!-- Grabs information and sends it to server -->
			  <script type="text/javascript">
			  $(document).ready(function() {
				  $("#submitBtn").on("click", function() {
					  //form validation
					  function validateForm() {
						  var isValid = true;
						  $('.validate').each(function() {
							  if ($(this).val() === ''){
								  isValid = false;
							  }
						  });
			  
						  $('.browser-default').each(function() {
							  if ($(this).val() === ""){
								  isValid = false;
							  }
						  });
			  
						  return isValid;
					  }
			  
					  //if everything is filled
					  if (validateForm() == true) {
						  //creates a new friend from the values submitted
						  var newFriend = {
							  name: $('#name').val().trim(),
							  profilePic: $('#photo').val().trim(),
							  scores: [
								  $('#question1').val(),
								  $('#question2').val(),
								  $('#question3').val(),
								  $('#question4').val(),
								  $('#question5').val(),
								  $('#question6').val(),
								  $('#question7').val(),
								  $('#question8').val(),
								  $('#question9').val(),
								  $('#question10').val(),
							  ]
						  };
			  
						  //Grabs current URL of website
						  var currentURL = window.location.origin;
			  
						  //AJAX posts the data to friends API.
						  $.post(currentURL + "/api/friends", newFriend, function(data) {
							  //Grab the result from the AJAX post so that the best match's name and photo are displayed.
							  $("#matchName").text(data.name);
							  $("#matchPic").attr("src", data.profilePic);
			  
						  });
						  // Show the modal with the best match
							  $('.modal').modal();
			  
						  //clear form after submission
						  $('#name').val("");
						  $('#photo').val("");
						  $('#question1').val("");
						  $('#question2').val("");
						  $('#question3').val("");
						  $('#question4').val("");
						  $('#question5').val("");
						  $('#question6').val("");
						  $('#question7').val("");
						  $('#question8').val("");
						  $('#question9').val("");
						  $('#question10').val("");
					  } else {
						  alert("Please fill out ALL fields before submitting survey!")
					  }
			  
					  // return false;
				  });
			  });
			  </script>
			  </body>
			  
			  </html>
			</div>
		</div>
	</div>

	<!-- Footer -->
	<footer class="page-footer font-small teal text- center pt-4">© 2019 Copyright <br>

		<!-- Content -->
		<h5 class="text-uppercase font-weight-bold"></h5>
		<p>Curious to get your match?</p>





	</footer>
</body>

</html>